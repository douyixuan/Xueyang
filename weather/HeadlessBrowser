'''
        if spider.name == "angel":
            print
            "Chrome is starting..."

            options = Options()

            options.add_argument('-headless')# 无头参数

            driver = Chrome(executable_path='chromedriver', chrome_options=options)# 配了环境变量第一个参数就可以省了，不然传绝对路径
            wait = WebDriverWait(driver, timeout=10)

            driver.get(request.url)
            js = "var q=document.documentElement.scrollTop=10000"
            driver.execute_script(js)  # 可执行js，模仿用户操作。此处为将页面拉至最底端。
            wait.until(expected.visibility_of_element_located((By.NAME, 'q'))).send_keys(
                'headless chrome' + Keys.ENTER)

            wait.until(expected.visibility_of_element_located((By.CSS_SELECTOR, '#ires a'))).click()

            print(driver.page_source)

            driver.quit()

        else:
            return

            #driver = webdriver.Chrome()  # 指定使用的浏览器


            #driver = webdriver.PhantomJS()
            # driver = webdriver.Firefox()

            driver.get(request.url)
            time.sleep(1)
            js = "var q=document.documentElement.scrollTop=10000"
            driver.execute_script(js)  # 可执行js，模仿用户操作。此处为将页面拉至最底端。
            time.sleep(3)
            body = driver.page_source
            print("访问" + request.url)
            return HtmlResponse(driver.current_url, body=body, encoding='utf-8', request=request)

'''
